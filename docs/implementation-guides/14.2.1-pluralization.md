# Pluralization Support (Phase 2.1)

Status: Implemented (basic pluralization)

This document describes the lightweight pluralization system added to the project. It implements CLDR-like plural selection for a small set of locales (en, hi, ar) without introducing a full i18n framework.

Files changed/added
- src/lib/i18n.ts — core t() lookup extended to consider plural forms
- src/lib/i18n-plural.ts — plural rule helper (getPluralForm)
- tests/unit/i18n.plural.test.tsx — unit tests

Key conventions
- Plural forms are stored as suffixes on keys:
  - e.g. `cart.items.one`, `cart.items.other`
- When calling t(key, { count }), the loader will try the following fallbacks in order:
  - key.{plural}.{gender} (if gender provided)
  - key.{plural}
  - key.{gender}
  - key
- Plural rules implemented:
  - en & hi: `one` vs `other`
  - ar: simplified categories `zero`, `one`, `two`, `few`, `many`, `other` (sufficient for typical cases)

Usage example

```ts
const { t } = useTranslations()
// English
t('cart.items', { count: 1 }) // looks for cart.items.one -> returns singular
t('cart.items', { count: 3 }) // looks for cart.items.other -> returns plural

// Arabic (simplified)
t('msgs.items', { count: 0 }) // looks for msgs.items.zero
```

Notes & future work
- This is intentionally lightweight. For complex CLDR handling or context-aware pluralization consider integrating i18next or Lingui.
- Add plural forms to all locale JSONs where counts are used.

